{"version":3,"sources":["string-6.js"],"names":[],"mappings":"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","file":"string-6-compiled.js","sourcesContent":["/**\n * Created by：CaMnter\n */\n\n\n/************\n * 标签模板 *\n ************/\n\n\n/**\n * 可以紧跟在一个函数名后面，该函数将被调用来处理这个模板字符串。这被称为 “标签模板” 功能\n * 标签模板其实不是模板，而是函数调用的一种特殊形式。“标签”指的就是函数，紧跟在后面的模板字符串就是它的参数\n */\nconst ALL = \"Save you from anything\";\nconst SAVE = \"Save\";\nconst ANYTHING = \"anything\";\n\nString.prototype.replaceAll = function (reallyDo, replaceWith, ignoreCase) {\n    if (!RegExp.prototype.isPrototypeOf(reallyDo)) {\n        return this.replace(new RegExp(reallyDo, (ignoreCase ? \"gi\" : \"g\")), replaceWith);\n    } else {\n        return this.replace(reallyDo, replaceWith);\n    }\n}\n\nfunction f1(info) {\n    console.log(\"[string]\\t\\t[test-\" + 1 + \"]\\t\\t[info] = \" + info);\n    console.log(\"[string]\\t\\t[test-\" + 1 + \"]\\t\\t[arguments[1]] = \" + arguments[1]);\n}\nf1`${ALL}`;\nf1`Save you from anything`;\nconsole.log(\"\");\n\nfunction f2(other, save, anything) {\n    console.log(\"[string]\\t\\t[test-\" + 2 + \"]\\t\\t[other] = \" + other);\n    console.log(\"[string]\\t\\t[test-\" + 2 + \"]\\t\\t[save] = \" + save);\n    console.log(\"[string]\\t\\t[test-\" + 2 + \"]\\t\\t[anything] = \" + anything);\n    console.log(\"[string]\\t\\t[test-\" + 2 + \"]\\t\\t[result] = \" + save + other.toString().replaceAll(\",\", \"\", false) + anything);\n}\nf2`${SAVE} you from ${ANYTHING}`;\nf2([\"\", \" you from \", \"\"], \"Save\", \"anything\");\nconsole.log(\"\");\n\n/**\n * 将各个参数按照原来的位置拼合回去\n */\nfunction f3(literals) {\n    var result = '';\n    var i = 0;\n    for (let literal of literals) {\n        console.log(\"[string]\\t\\t[test-\" + 3 + \"]\\t\\t[literal] = \" + literal);\n    }\n    for (let argument of arguments) {\n        console.log(\"[string]\\t\\t[test-\" + 3 + \"]\\t\\t[argument] = \" + argument);\n    }\n    while (i < literals.length) {\n        result += literals[i++];\n        if (i < arguments.length) {\n            result += arguments[i];\n        }\n    }\n    return result;\n}\nconsole.log(\"[string]\\t\\t[test-\" + 3 + \"]\\t\\t[f3`${SAVE} you from ${ANYTHING}`] = \" + f3`${SAVE} you from ${ANYTHING}`);\nconsole.log(\"\");\n\n/**\n * 采用 rest 参数\n */\nfunction f4(literals, ...values) {\n    var output = \"\";\n    for (var index = 0; index < values.length; index++) {\n        output += literals[index] + values[index];\n    }\n    output += literals[index];\n    return output;\n}\nconsole.log(\"[string]\\t\\t[test-\" + 4 + \"]\\t\\t[f4`${SAVE} you from ${ANYTHING}`] = \" + f4`${SAVE} you from ${ANYTHING}`);\nconsole.log(\"\");\n\n/**\n * “标签模板” 的一个重要应用，就是过滤 HTML 字符串，防止用户输入恶意内容\n *\n * sender 变量往往是用户提供的，经过 saferHTML 函数处理，里面的特殊字符都会被转义\n *\n */\n\nvar message =\n    saferHTML`<p>${sender} has sent you a message.</p>`;\nfunction saferHTML(templateData) {\n    var s = templateData[0];\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = String(arguments[i]);\n        // Escape special characters in the substitution.\n        s += arg.replace(/&/g, \"&amp;\")\n            .replace(/</g, \"&lt;\")\n            .replace(/>/g, \"&gt;\");\n        // Don't escape special characters in the template.\n        s += templateData[i];\n    }\n    return s;\n}\nvar sender = '<script>alert(\"abc\")</script>'; // 恶意代码\nvar messageSimple = saferHTML`<p>${sender} has sent you a message.</p>`;\nconsole.log(\"[string]\\t\\t[test-\" + 5 + \"]\\t\\t[messageSimple] = \" + messageSimple);\nconsole.log(\"\");\n\nconsole.log`[string]\\t\\t[test- + 6 + ]\\t\\t[ALL] =  + ${ALL}`;\n\n"]}